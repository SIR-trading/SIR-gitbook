# üíä Exploit & Relaunch

## Incident Overview

On **March 30, 2025**, SIR Trading's vault was drained of its entire $355 K TVL when an attacker weaponized Ethereum's new **transient storage** (TSTORE/TLOAD) feature:

1. **Setup**
   * Attacker deployed a custom Uniswap V3 pool and initialized a vault in our Vault contract.
   * During `uniswapV3SwapCallback`, the code `TSTORE(slot=0x1, poolAddress)` was immediately overwritten by `TSTORE(slot=0x1, mintAmount)`, leaving stale data.
2. **Vanity‚ÄêAddress Exploit**
   * By brute‚Äêforcing a **CREATE2** address whose numeric value equaled the forged `mintAmount`, the attacker passed our pool-address check.
   * They repeatedly invoked `uniswapV3SwapCallback`, siphoning all collateral through the compromised slot.
3. **Stolen Funds Trail**
   * Initial funds (0.3 ETH) came from #Railgun, per MistTrack.io.
   * Attack TX: [`0xa05f047ddfdad9126624c4496b5d4a59f961ee7c091e7b4e38cee86f1335736f`](https://etherscan.io/tx/0xa05f047ddfdad9126624c4496b5d4a59f961ee7c091e7b4e38cee86f1335736f)&#x20;
   * Attacker: `0x27defcfa6498f957918f407ed8a58eba2884768c`&#x20;

{% hint style="warning" %}
**Root cause:** our callback logic did not clear or re-validate the transient‚Äêstorage slot between operations, allowing a crafted value to masquerade as the pool address.
{% endhint %}

## **Our Emergency Response**

When the exploit hit, we sprang into action using our [protocol‚Äôs built-in safety guardrails](beta-period.md):

1. **Emergency Mode Activated**\
   We suspended all new deposits to stop any further loss while still allowing users to withdraw their funds.
2. **Shutdown**\
   After 20 days we have permanently locked the protocol to ensure nobody will ever use it.

## **What‚Äôs Next**

We're now focused on a robust restart:

1. **Three Parallel Private Audits** are already underway.
2. **Public Audit**: Up to $50K will be allocated to reward the discovery of any missed critical vulnerabilities.
3. **Funding:** A capped [public sale is now live ](https://x.com/leveragesir/status/1917868753729052748)to help us cover audit costs and relaunch expenses.
4. **Relaunch Timeline**: We aim to deploy the upgraded protocol on Ethereum mainnet roughly one month after the sale ends, subject to audit results.

