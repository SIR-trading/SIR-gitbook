# ‚õè Liquidity Mining at the Protocol Level

Contrary to [previous projects' liquidity mining](https://101blockchains.com/liquidity-mining/), **SIR's liquidity mining is part of the core protocol** and designed to last forever. The main reason is that we see it as a stabilizing force for the protocol, and not as a once-in-a-time ad-hoc program to benefit a few users for a short period of time. In addition, we want the SIR token to be as the SIR protocol: [immutable and trustless](../../).

### The Drawbacks of Automated Liquidity Mining

Ideally we would want that the _best pools_ are allocated a larger portion of the liquidity mining rewards. Whether _best_ means larger, highest volume, the most stable, etc, is debatable. Potentially, we could embed some algorithm in the core protocol that allocates rewards to pools automatically based on some criteria. The problem with automatizing the liquidity program at the core protocol is twofold:

1. Any metric could be gamified/manipulated to maximize rewards
2. It is extremely difficult to create a global metric across pools because the tokens are heterogenous

#### Manipulation Games

Whatever is the criteria for allocating rewards, it could potentially be manipulated for the profit of a few users, which would completely defeat the purpose of the liquidity mining program. For example, assume the protocol allocates liquidity mining rewards proportionally to the fees generated by each pool. A small group of LPers could manipulate the fees by creating a new pool and wash trading APE and TEA. Since they are also the LPers they would not lose much in fees and they would get most of the rewards.&#x20;

#### Heterogenous Tokens

Another problem with any automated strategy is that it will need to evaluate many pools with possibly different collateral tokens. For instance, in the previous example where rewards are allocated proportionally to the collected fees, the protocol would need to figure out the price between tokens. <mark style="color:red;">But where to get the price between any two tokens efficiently?</mark> <mark style="color:purple;">What if the price is unreliable because it is obtained from a highly illiquid pool?</mark> The problems quickly stack up. &#x20;

### Solution: Incentive-Driven Liquidity Mining

As outlined in the previous section, a purely automated, via smart contract, solution is practically impossible. Instead, we rely on a solution based on human discretion and economic incentives. The idea is simple, we let the DAO decide on the amount of fees subtracted from each pool.&#x20;

MENTION REWARDS PROPORTIONAL TO CUT

Let $$f_i$$ be the fee assigned to pool $$i$$, and assume pools are enumerated from $$1$$ to $$N$$. The only condition enforced by the protocol is that

$$
\begin{equation}
\sqrt{f_1^2+\cdots+f_N^2} \leq 5 \;[\%].
\end{equation}
$$

Because the fee allocation must be voted by the DAO, it is harder for a group of holders with a small stake to manipulate the outcome. From the DAO perspective, to maximize the treasury and consequently the SIR token price, the best strategy is to take fees from the pools generating the highest fees. In other words, the DAO is economically incentivized to

$$
\begin{equation}
\max f_1v_1+\cdots+f_Nv_N
\end{equation}
$$

where $$v_i$$ are the fees generated over some time period by the $$i$$-th pool (all denominated in the same currency). It turns out that the optimum solution to (2) subject to (1) is

$$
f_i=\frac{5}{\sqrt{v_1^2+\cdots+v_N^2} }v_i \propto v_i.
$$

{% hint style="info" %}
In summary, thanks to constraint (1), the DAO is economically incentivized to reward pools with an amount of SIR token proportional to their fee volume.
{% endhint %}
